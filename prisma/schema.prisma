
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Member {
  id            Int        @id @default(autoincrement()) // ✅ Changed to Int
  name          String
  gender        String
  phone         String
  age           Int
  height        Float
  weight        Float
  joiningDate   DateTime   @default(now())
  
  activePlan    String?
  status        Boolean  @default(false)
  paymentStart  DateTime?
  dueDate       DateTime?
  createdAt     DateTime   @default(now())
  updatedAt     DateTime   @updatedAt

  planId        Int?                                       // ✅ Changed to Int
  plan          Plan?       @relation(fields: [planId], references: [id])
  payments      Payment[]
}

model Plan {
  id       Int      @id @default(autoincrement())          // ✅ Changed to Int
  name     String
  duration Int      // in days
  amount   Int
  members  Member[]
  status   String
}

model Payment {
  id        Int      @id @default(autoincrement())         // ✅ Changed to Int
  memberId  Int                                        // ✅ Changed to Int
  amount    Float
  date      DateTime @default(now())
  member    Member   @relation(fields: [memberId], references: [id])
}
